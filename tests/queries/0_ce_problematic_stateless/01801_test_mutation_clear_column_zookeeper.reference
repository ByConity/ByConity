2021-01-01	1	18	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	2	21	a	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]
show active part list
20210101_0_0_0
20210101_1_1_0
20210101_2_2_0
20210102_3_3_0
20210102_4_4_0
20210103_5_5_0
select replica
2021-01-01	1	18	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	2	21	a	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]

clear column age in partition id 20210101
fast delete age in partition 2021-01-02 where id = 2
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	0	b	[1,2,3]
2021-01-01	3	0	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]
show active part list
20210101_0_0_0_6
20210101_1_1_0_6
20210101_2_2_0_6
20210102_3_3_0_7
20210102_4_4_0_7
20210103_5_5_0_6
select replica
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	0	b	[1,2,3]
2021-01-01	3	0	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]

test clear column where command which will not affect any part
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	0	b	[1,2,3]
2021-01-01	3	0	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]
show active part list
20210101_0_0_0_6
20210101_1_1_0_6
20210101_2_2_0_6
20210102_3_3_0_7
20210102_4_4_0_7
20210103_5_5_0_6
select replica
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	0	b	[1,2,3]
2021-01-01	3	0	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]

delete where id = 2
clear column ab in partition where p_date >= 2021-01-02
2021-01-01	1	0	a	[1,2,3]
2021-01-01	3	0	c	[1,2,3]
2021-01-02	3	22	b	[]
2021-01-03	3	23	c	[]
show active part list
20210101_0_0_0_9
20210101_1_1_0_9
20210101_2_2_0_9
20210102_3_3_0_9
20210102_4_4_0_9
20210103_5_5_0_9
select replica
2021-01-01	1	0	a	[1,2,3]
2021-01-01	3	0	c	[1,2,3]
2021-01-02	3	22	b	[]
2021-01-03	3	23	c	[]

--------------------------------------------------------------------
start to test tuple partition
2021-01-01	1	18	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	2	21	a	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]
show active part list
20210101-1_0_0_0
20210101-2_1_1_0
20210101-3_2_2_0
20210102-2_3_3_0
20210102-3_4_4_0
20210103-3_5_5_0
select replica
2021-01-01	1	18	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	2	21	a	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]

clear column age in partition id 20210101-1
fast delete age in partition (2021-01-02, 2) where age = 21
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]
show active part list
20210101-1_0_0_0_6
20210101-2_1_1_0_6
20210101-3_2_2_0_6
20210102-2_3_3_0_7
20210102-3_4_4_0_6
20210103-3_5_5_0_6
select replica
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]

test clear column where command which will not affect any part
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]
show active part list
20210101-1_0_0_0_6
20210101-2_1_1_0_6
20210101-3_2_2_0_6
20210102-2_3_3_0_7
20210102-3_4_4_0_6
20210103-3_5_5_0_6
select replica
2021-01-01	1	0	a	[1,2,3]
2021-01-01	2	18	b	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	3	22	b	[1,2,3]
2021-01-03	3	23	c	[1,2,3]

delete where id = 2
clear column ab in partition where p_date >= 2021-01-02
2021-01-01	1	0	a	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	3	22	b	[]
2021-01-03	3	23	c	[]
show active part list
20210101-1_0_0_0_9
20210101-2_1_1_0_9
20210101-3_2_2_0_9
20210102-2_3_3_0_9
20210102-3_4_4_0_9
20210103-3_5_5_0_9
select replica
2021-01-01	1	0	a	[1,2,3]
2021-01-01	3	18	c	[1,2,3]
2021-01-02	3	22	b	[]
2021-01-03	3	23	c	[]
